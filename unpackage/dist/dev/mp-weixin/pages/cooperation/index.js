(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cooperation/index"],{530:function(e,n,t){"use strict";(function(e){t(5);o(t(3));var n=o(t(531));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t(1)["createPage"])},531:function(e,n,t){"use strict";t.r(n);var o=t(532),i=t(534);for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t(536);var r,s=t(11),c=Object(s["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);c.options.__file="pages/cooperation/index.vue",n["default"]=c.exports},532:function(e,n,t){"use strict";t.r(n);var o=t(533);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},533:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return i})),t.d(n,"staticRenderFns",(function(){return r})),t.d(n,"recyclableRender",(function(){return a})),t.d(n,"components",(function(){return o}));try{o={uAvatar:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-avatar/u-avatar")]).then(t.bind(null,746))},uImage:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-image/u-image")]).then(t.bind(null,684))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,816))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){return e.$f.jump("/pages/cooperation/rule")},e.e1=function(n){return e.$f.jump("/pages/cooperation/withdrawal/detailed")},e.e2=function(n){return e.$f.jump("/pages/cooperation/withdrawal/detailed")},e.e3=function(n){return e.$f.jump("/pages/cooperation/withdrawal/detailed")},e.e4=function(n){return e.$f.jump("/pages/cooperation/friends?istype="+e.istype)})},a=!1,r=[];i._withStripped=!0},534:function(e,n,t){"use strict";t.r(n);var o=t(535),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},535:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){t.e("components/common/share").then(function(){return resolve(t(918))}.bind(null,t)).catch(t.oe)},i={components:{share:o},data:function(){return{details:{},userInfo:{},record:[],type:"1",page:"1",istype:"",loadMord:!0,inviteCode:{},toBase64Url:null,userName:"**"}},onLoad:function(e){console.log("onLoad:",e),this.istype=e.type,this.getInviteCode()},onReachBottom:function(){this.page++,this.getGainRecordList()},onShow:function(){this.loadMord=!0,this.page=1,this.record=[],this.pageInit(),this.getUserInfo(),this.getGainRecordList()},methods:{saveImg:function(){e.showLoading({title:"图片保存中..."});var n=wx.getFileSystemManager(),t=wx.env.USER_DATA_PATH+"/qrcodeImg.png",o=this.toBase64Url.replace(/^data:image\/\w+;base64,/,"");n.writeFile({filePath:t,data:o,encoding:"base64",success:function(n){wx.saveImageToPhotosAlbum({filePath:t,success:function(n){e.hideLoading(),wx.showToast({title:"保存成功",icon:"success"})},fail:function(n){e.hideLoading(),wx.showToast({title:"保存失败",icon:"success"})}})}})},saveImagePhotos:function(n){e.saveImageToPhotosAlbum({filePath:n,success:function(){e.showLoading({title:"图片保存成功"}),setTimeout((function(){e.hideLoading()}),1e3)}})},getInviteCode:function(){var n=this;e.showLoading({title:"加载中...",mask:!0}),this.$u.api.getInviteCode({}).then((function(t){n.inviteCode=t.data.inviteCode,n.toBase64Url="data:image/jpeg;base64,"+t.data.inviteCode.fullImgBuffer,e.hideLoading()}))},getGainClass:function(e){this.page=1,this.type=e,this.record=[],this.loadMord=!0,this.getGainRecordList()},getGainRecordList:function(){var e=this,n={page:this.page,type:this.type};this.loadMord&&this.$u.api.getGainRecordList(n).then((function(n){e.record=e.record.concat(n.data.record);var t=n.data.pageTotal;e.record.length<t?e.loadMord=!0:e.loadMord=!1}))},getUserInfo:function(){var n=this;this.$u.api.getUserInfo({}).then((function(t){200==t.code?n.userInfo=t.data:e.showModal({title:"提示",content:t.message,success:function(e){}})}))},pageInit:function(){var n=this;this.$u.api.extensionIndex({}).then((function(t){200==t.code?(n.details=t.data.extensionIndex,n.userName=n.details.name):e.showModal({title:"提示",content:t.message,success:function(e){}})}))},openShare:function(){this.$refs.share.openShare()}}};n.default=i}).call(this,t(1)["default"])},536:function(e,n,t){"use strict";t.r(n);var o=t(537),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},537:function(e,n,t){}},[[530,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/cooperation/index.js.map