(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/contract/details"],{610:function(t,n,e){"use strict";(function(t){e(5);a(e(3));var n=a(e(611));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e(1)["createPage"])},611:function(t,n,e){"use strict";e.r(n);var a=e(612),r=e(614);for(var i in r)"default"!==i&&function(t){e.d(n,t,(function(){return r[t]}))}(i);e(616);var o,d=e(11),c=Object(d["default"])(r["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],o);c.options.__file="pages/user/contract/details.vue",n["default"]=c.exports},612:function(t,n,e){"use strict";e.r(n);var a=e(613);e.d(n,"render",(function(){return a["render"]})),e.d(n,"staticRenderFns",(function(){return a["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return a["recyclableRender"]})),e.d(n,"components",(function(){return a["components"]}))},613:function(t,n,e){"use strict";var a;e.r(n),e.d(n,"render",(function(){return r})),e.d(n,"staticRenderFns",(function(){return o})),e.d(n,"recyclableRender",(function(){return i})),e.d(n,"components",(function(){return a}));var r=function(){var t=this,n=t.$createElement;t._self._c},i=!1,o=[];r._withStripped=!0},614:function(t,n,e){"use strict";e.r(n);var a=e(615),r=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=r.a},615:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{id:"",fddInfo:{},userInfo:{},contractId:"",download_url:"",view_url:"",signTitle:"",date:"",endTime:"",result_desc:"",myUrl:"",iscontact:!0}},onLoad:function(t){this.id=t.id,this.contractId=t.contractId,this.date=t.date,this.signTitle=t.signTitle,console.log(t),this.getUserInfo()},methods:{contactWorld:function(){var t=this.view_url.replace("https://testapi.fadada.com:8443/api//","https://testapi01.fadada.com/api/");this.myUrl=t,this.iscontact=!1},getUserInfo:function(){var t=this;this.$u.api.getUserInfo({}).then((function(n){t.userInfo=n.data.userInfo,t.fddInfo=n.data.fddInfo,console.log(t.fddInfo,t.userInfo,"用户信息"),t.querySignResult()}))},querySignResult:function(){var n=this,e=this,a=this.fddInfo.customerId;this.$u.api.signCode({transaction_id:this.id,customer_id:a,contract_id:this.contractId}).then((function(r){console.log(r,"data 合同签署");var i={app_id:n.$c.app_id,timestamp:r.data.timestamp,v:n.$c.v,msg_digest:r.data.signCode,transaction_id:n.id,contract_id:n.contractId,customer_id:a};t.request({url:e.$c.fddApiUrl+"api/query_sign_result.api",header:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8"},data:i,method:"POST",success:function(t){t.data;console.log(t,"合同结果查询...."),t.data.data||e.$u.toast(t.data.msg),3e3==t.data.data.result&&(e.view_url=t.data.data.view_url,e.download_url=t.data.data.download_url,e.result_desc=t.data.data.result_desc,e.endTime=t.data.data.endTime)},fail:function(t){console.log(t)}})}))}}};n.default=e}).call(this,e(1)["default"])},616:function(t,n,e){"use strict";e.r(n);var a=e(617),r=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(n,t,(function(){return a[t]}))}(i);n["default"]=r.a},617:function(t,n,e){}},[[610,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/user/contract/details.js.map