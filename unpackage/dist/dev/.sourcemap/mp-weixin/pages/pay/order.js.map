{"version":3,"sources":["uni-app:///main.js","webpack:///H:/素材/huachuangsmall-20220330/pages/pay/order.vue?8150","webpack:///H:/素材/huachuangsmall-20220330/pages/pay/order.vue?9e7d","webpack:///H:/素材/huachuangsmall-20220330/pages/pay/order.vue?5091","webpack:///H:/素材/huachuangsmall-20220330/pages/pay/order.vue?8983","uni-app:///pages/pay/order.vue","webpack:///H:/素材/huachuangsmall-20220330/pages/pay/order.vue?1d77"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uImage","uNumberBox","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"6HAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,sBACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,oHAITC,WAAY,WACV,OAAO,+HAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCtCvB,8GAA+mB,eAAG,G,8OC8BlnB,CACA,KADA,WACA,MACA,UACA,QACA,QACA,SACA,gBAJA,YAKA,IALA,eAMA,IANA,cAOA,IAPA,gBAQA,IARA,GAWA,OAbA,SAaA,GACA,aACA,mBAEA,OAjBA,WAkBA,oBAEA,SACA,YADA,WACA,WACA,eACA,YACA,UAEA,4BACA,kBACA,2BACA,yBACA,gBACA,mDAGA,WAdA,WAcA,WACA,2BACA,aACA,kBACA,sBACA,0BAGA,UAtBA,SAsBA,GACA,+BAIA,YA3BA,WA2BA,WACA,eACA,cAEA,yBACA,iBACA,mBACA,kBACA,2BACA,sBACA,mBAIA,YAzCA,WAyCA,WACA,OACA,sBACA,gCACA,oCACA,kBACA,OACA,mBACA,2BACA,SACA,2BACA,6BACA,gCAEA,WACA,0CACA,QACA,kEAEA,OACA,cACA,oBACA,aACA,4BACA,qBACA,8CACA,eAEA,iBACA,sBAOA,QA7EA,SA6EA,SACA,qBACA,aACA,gBACA,QACA,kBACA,8BACA,QAGA,UAvFA,WAuFA,WAEA,IACA,IACA,+CACA,KACA,IACA,IACA,OACA,sBACA,6BACA,eACA,cACA,YACA,aACA,kBACA,eACA,kBACA,OACA,mBACA,2BACA,SACA,0BACA,2BACA,eACA,cACA,kBACA,YACA,aACA,cAEA,WACA,+CACA,QACA,kEAEA,OACA,cACA,oBACA,aACA,uBACA,qCACA,mCAGA,2DACA,yBACA,kBACA,qBACA,0BACA,OACA,0BACA,2BACA,gFACA,qBACA,QAJA,SAIA,GACA,yBAWA,iBACA,sBAQA,KAnKA,SAmKA,cAEA,OACA,sBACA,+CACA,kBACA,OACA,mBACA,2BACA,SACA,2BACA,2CAEA,WACA,6CACA,QACA,kEAEA,OACA,cACA,oBACA,aACA,6BAEA,MAEA,iBACA,sBAQA,WAtMA,WAsMA,WACA,OACA,0BACA,4BACA,2BACA,6BACA,iCACA,6BACA,sCACA,6CACA,sBACA,gBACA,kBAEA,OACA,mBACA,2BACA,SACA,2BACA,cACA,YACA,UACA,iBAEA,WACA,oCACA,QACA,kEAEA,OACA,cACA,oBACA,OACA,0BAGA,4HAEA,iBACA,sBAOA,WApPA,WAqPA,UA4DA,UAjTA,WAkTA,WAEA,iDACA,wBAIA,uBAEA,4CACA,wBACA,0BACA,2BACA,wFACA,qBACA,QAJA,SAIA,GACA,eACA,WACA,gDACA,QACA,kEAEA,cACA,oBACA,uBAEA,iBACA,qBAQA,mBA9BA,sB,2ECzWA,8GAA0pC,eAAG,G","file":"pages/pay/order.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/pay/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=015d7104&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/pay/order.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=template&id=015d7104&\"","var components\ntry {\n  components = {\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-image/u-image\" */ \"uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uNumberBox: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-number-box/u-number-box\" */ \"uview-ui/components/u-number-box/u-number-box.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"wrap\" v-if=\"infor.courseName\">\r\n\t\t<view class=\"ul\">\r\n\t\t\t<view class=\"li flex-box\">\r\n\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t<u-image class=\"szIco\"\r\n\t\t\t\t\t radius=\"3\"\r\n\t\t\t\t\t :src=\"infor.courseImg\"\r\n\t\t\t\t\t :lazy-load=\"true\" width=\"230rpx\" height=\"150rpx\"></u-image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"right box-1\">\r\n\t\t\t\t\t<view class=\"title\">{{infor.courseName}}</view>\r\n\t\t\t\t\t<view class=\"other flex-box\">\r\n\t\t\t\t\t\t<view class=\"l-text box-1\">\r\n\t\t\t\t\t\t\t<view class=\"\">￥{{infor.courseMoney}}</view>\r\n\t\t\t\t\t\t\t<view class=\"desc\">共{{infor.courseCount}}门课程</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"r-text\">\r\n\t\t\t\t\t\t\t<u-number-box :min=\"1\" v-model=\"value\" @change=\"valChange\"></u-number-box>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"payMoney\">应付：<text class=\"sty\">￥{{infor.courseMoney*value}}</text></view>\r\n\t\t</view>\r\n\t\t<view class=\"footer\" @click=\"submitBuy\">去购买</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: 1,\r\n\t\t\t\tid: null,\r\n\t\t\t\tinfor: {},\r\n\t\t\t\tcustomer_id: '',\r\n\t\t\t\tinfor:{},\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\tfddInfo: {},\r\n\t\t\t\torderInfo: {}\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.id = option.id\r\n\t\t\tthis.getDetails();\r\n\t\t},\r\n\t\tonShow(){\r\n\t\t\tthis.getUserInfo()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgetUserInfo(){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t    title: '加载中',\r\n\t\t\t\t\tmask:true\r\n\t\t\t\t});\r\n\t\t\t\tthis.$u.api.getUserInfo({\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.userInfo = res.data.userInfo\r\n\t\t\t\t\tthis.fddInfo = res.data.fddInfo\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log('this.fddInfo.url:', this.fddInfo.url);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDetails(){\r\n\t\t\t\tthis.$u.api.getCourseInfo({\r\n\t\t\t\t\t\tid:this.id\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res,'data')\r\n\t\t\t\t\tthis.infor = res.data.course\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tvalChange(e) {\r\n\t\t\t\tconsole.log('当前值为: ' + e.value)\r\n\t\t\t},\r\n\r\n\t\t\t//购买下单\r\n\t\t\torderCreate(){\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t    title: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tthis.$u.api.orderCreate({\r\n\t\t\t\t\t\tcourseId:this.id,\r\n\t\t\t\t\t\tcount: this.value,\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.orderInfo = res.data.orderId\r\n\t\t\t\t\tconsole.log(res,'data')\r\n\t\t\t\t\tthis.upcontract()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//注册法大大\r\n\t\t\tregisterFdd(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.$u.api.signCode({\r\n\t\t\t\t\t\topen_id:this.userInfo.userPhone,\r\n\t\t\t\t\t\taccount_type:this.$c.account_type\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tlet option = {\r\n\t\t\t\t\t\t\tapp_id:this.$c.app_id,\r\n\t\t\t\t\t\t\ttimestamp:res.data.timestamp,\r\n\t\t\t\t\t\t\tv:this.$c.v,\r\n\t\t\t\t\t\t\tmsg_digest:res.data.signCode,\r\n\t\t\t\t\t\t\topen_id:this.userInfo.userPhone,\r\n\t\t\t\t\t\t\taccount_type:this.$c.account_type\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: that.$c.fddApiUrl+\"account_register.api\",\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: option,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tsuccess: function(result){\r\n\t\t\t\t\t\t\tvar res = result.data;\r\n\t\t\t\t\t\t\tconsole.log(res,'updata....')\r\n\t\t\t\t\t\t\tthat.customer_id = res.data\r\n\t\t\t\t\t\t\tuni.setStorageSync('customer_id',that.customer_id)\r\n\t\t\t\t\t\t\tthat.getFddUrl()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(err){\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//保存法大大注册 实名认证信息\r\n\t\t\tfddSave(customer_id,id,url,callback){\r\n\t\t\t\tthis.$u.api.fddSave({\r\n\t\t\t\t\t\tcustomerId:customer_id,\r\n\t\t\t\t\t\ttransactionId: id,\r\n\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res,'data fddSave')\r\n\t\t\t\t\t\tcallback()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetFddUrl(){\r\n\t\t\t\t//个人 实名认证\r\n\t\t\t\tlet verified_way = 1;//实名认证套餐类型： 0：三要素标准方 案；1：三要素补充方 案；2：四要素标准方 案；3：四要素补充方 案；4：纯三要素方案； 5：纯四要素方案； 9：人脸识别方案\r\n\t\t\t\tlet page_modify = 2; //是否允许用户修改界面 1 允许 2不允许\r\n\t\t\t\tlet notify_url = 'http://huachuang.yxy5g.com//home/fddNotify';//回调地址\r\n\t\t\t\tlet return_url = '';//认证结果返回地址\r\n\t\t\t\tlet is_mini_program = 1;//是否小程序认证。默认为0 1代表小程序认证,0非小程序\r\n\t\t\t\tlet cert_flag = 1;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.$u.api.signCode({\r\n\t\t\t\t\t\tcustomer_id:this.customer_id,\r\n\t\t\t\t\t\tverified_way,\r\n\t\t\t\t\t\tpage_modify,\r\n\t\t\t\t\t\tcert_flag,\r\n\t\t\t\t\t\tnotify_url,\r\n\t\t\t\t\t\tis_mini_program,\r\n\t\t\t\t\t\treturn_url\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tlet option = {\r\n\t\t\t\t\t\t\tapp_id:this.$c.app_id,\r\n\t\t\t\t\t\t\ttimestamp:res.data.timestamp,\r\n\t\t\t\t\t\t\tv:this.$c.v,\r\n\t\t\t\t\t\t\tcustomer_id:this.customer_id,\r\n\t\t\t\t\t\t\tmsg_digest:res.data.signCode,\r\n\t\t\t\t\t\t\tverified_way,\r\n\t\t\t\t\t\t\tpage_modify,\r\n\t\t\t\t\t\t\tis_mini_program,\r\n\t\t\t\t\t\t\tcert_flag,\r\n\t\t\t\t\t\t\tnotify_url,\r\n\t\t\t\t\t\t\treturn_url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl:  that.$c.fddApiUrl+\"get_person_verify_url.api\",\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdata: option,\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tsuccess: function(result){\r\n\t\t\t\t\t\t\t\tvar res = result.data;\r\n\t\t\t\t\t\t\t\tconsole.log('认证地址:', res)\r\n\t\t\t\t\t\t\t\tthat.transactionNo = res.data.transactionNo\r\n\t\t\t\t\t\t\t\tlet url = that.$w_base.decode(res.data.url)\r\n\t\t\t\t\t\t\t\t//交易信息保存\r\n\t\t\t\t\t\t\t\t// uni.setStorageSync(\"transactionNo\",that.transactionNo)\r\n\t\t\t\t\t\t\t\tthat.fddSave(that.customer_id,res.data.transactionNo,url,function(){\r\n\t\t\t\t\t\t\t\t\tthat.$u.api.getUserInfo({\r\n\t\t\t\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\tlet fddInfo = res.data.fddInfo;\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('fddInfo:',fddInfo);\r\n\t\t\t\t\t\t\t\t\t\tif(fddInfo.url){\r\n\t\t\t\t\t\t\t\t\t\t\twx.navigateToMiniProgram({\r\n\t\t\t\t\t\t\t\t\t\t\t\tappId:'wx855361a721050c6b',\r\n\t\t\t\t\t\t\t\t\t\t\t\tpath: 'pages/result-loading/result-loading?verifyUrl=' + encodeURIComponent(fddInfo.url),\r\n\t\t\t\t\t\t\t\t\t\t\t\tenvVersion: 'release',\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t// 打开成功\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail:function(err){\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//查询个人实名认证信息\r\n\t\t\tisRz(callbanck){\r\n\t\t\t\t// let msg_digest = this.isRzSecre()\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.$u.api.signCode({\r\n\t\t\t\t\t\tverified_serialno:this.fddInfo.transactionId\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tlet option = {\r\n\t\t\t\t\t\t\tapp_id:this.$c.app_id,\r\n\t\t\t\t\t\t\ttimestamp:res.data.timestamp,\r\n\t\t\t\t\t\t\tv:this.$c.v,\r\n\t\t\t\t\t\t\tmsg_digest:res.data.signCode,\r\n\t\t\t\t\t\t\tverified_serialno:this.fddInfo.transactionId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:  that.$c.fddApiUrl+\"find_personCertInfo.api\",\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: option,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tsuccess: function(result){\r\n\t\t\t\t\t\t\tvar res = result.data;\r\n\t\t\t\t\t\t\tconsole.log('查询实名认证测试输出:',result)\r\n\t\t\t\t\t\t\t//实名结果\r\n\t\t\t\t\t\t\tcallbanck(res)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(err){\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//合同上传\r\n\t\t\tupcontract(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet customer_id = this.fddInfo.customerId //法大大账号\r\n\t\t\t\tlet contract_id = this.orderInfo.contractId;//合同Id\r\n\t\t\t\tlet doc_title = this.orderInfo.signTitle;\r\n\t\t\t\tlet doc_url = this.orderInfo.contractUrl;\r\n\t\t\t\tlet userAgreementId  = this.orderInfo.userAgreementId //交易号\r\n\t\t\t\tconsole.log(contract_id,userAgreementId,'合同id  交易号')\r\n\t\t\t\tuni.setStorageSync('userAgreementId',contract_id)\r\n\t\t\t\tconsole.log(this.orderInfo,'this.orderInfo')\r\n\t\t\t\tthis.$u.api.signCode({\r\n\t\t\t\t\t\tcontract_id: contract_id,//合同id\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t// res.data.signCode\r\n\t\t\t\t\tlet option = {\r\n\t\t\t\t\t\tapp_id:this.$c.app_id,\r\n\t\t\t\t\t\ttimestamp:res.data.timestamp,\r\n\t\t\t\t\t\tv:this.$c.v,\r\n\t\t\t\t\t\tmsg_digest:res.data.signCode,\r\n\t\t\t\t\t\tcontract_id: contract_id,\r\n\t\t\t\t\t\tdoc_title: doc_title,\r\n\t\t\t\t\t\tdoc_url: doc_url,\r\n\t\t\t\t\t\tdoc_type: '.pdf'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: that.$c.fddApiUrl+\"uploaddocs.api\",\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: option,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tsuccess: function(result){\r\n\t\t\t\t\t\t\tvar res = result.data;\r\n\t\t\t\t\t\t\tconsole.log(result,'合同上传....')\r\n\t\t\t\t\t\t\t// that.$f.jump('/pages/pay/payOrder?id='+userAgreementId)\r\n\t\t\t\t\t\t\t// return false\r\n\t\t\t\t\t\t\tthat.$f.jump('/pages1/web-view/web-view?contract_id='+contract_id+'&customer_id='+customer_id+'&doc_title='+doc_title+'&doc_url='+doc_url+'&transaction_id='+userAgreementId)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(err){\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//合同签署\r\n\t\t\tcontractQs(){\r\n\t\t\t\treturn false\r\n\t\t\t\tlet customer_id = uni.getStorageSync('customer_id')\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet code = \"\";\r\n\t\t\t\t　　for(let i=0;i<6;i++){\r\n\t\t\t\t　　　　let radom = Math.floor(Math.random()*10);\r\n\t\t\t\t　　　　code += radom;\r\n\t\t\t\t　　}\r\n\t\t\t\tlet doc_title  = '股权代持协议及授权委托书';\r\n\t\t\t\tlet position_type = 1;\r\n\t\t\t\tlet signature_positions = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'pagenum':3,\r\n\t\t\t\t\t\t'x':250,\r\n\t\t\t\t\t\t'y':240\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'pagenum':3,\r\n\t\t\t\t\t\t'x':540,\r\n\t\t\t\t\t\t'y':760\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t\tthis.$u.api.signCodeForSign({\r\n\t\t\t\t\t\ttransaction_id: 9527123,\r\n\t\t\t\t\t\tcustomer_id:customer_id,\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t// res.data.signCode\r\n\t\t\t\t\tconsole.log(res,'data 合同签署')\r\n\t\t\t\t\tlet option = {\r\n\t\t\t\t\t\tapp_id:this.app_id,\r\n\t\t\t\t\t\ttimestamp:res.data.timestamp,\r\n\t\t\t\t\t\tv:this.v,\r\n\t\t\t\t\t\tmsg_digest:res.data.signCode,\r\n\t\t\t\t\t\topen_environment:2,\r\n\t\t\t\t\t\ttransaction_id: 9527123,\r\n\t\t\t\t\t\tcontract_id: 1234,\r\n\t\t\t\t\t\tcustomer_id:customer_id,\r\n\t\t\t\t\t\tdoc_title: encodeURIComponent(doc_title),\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet url = 'http://test.api.fabigbig.com:8888/api/extsign.api'+'?app_id='+this.app_id+'&timestamp='+res.data.timestamp+'&v='+this.v+'&msg_digest='+res.data.signCode+'&transaction_id=9527123'+'&contract_id=1234'+'&customer_id='+customer_id+'&doc_title='+encodeURIComponent(doc_title)+'&position_type='+ position_type+'&signature_positions='+ encodeURIComponent(JSON.stringify(signature_positions));\r\n\t\t\t\t\tconsole.log(url,'路径')\r\n\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: \"http://test.api.fabigbig.com:8888/api/extsign.api\",\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: option,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tsuccess: function(result){\r\n\t\t\t\t\t\t\tvar res = result.data;\r\n\t\t\t\t\t\t\tconsole.log(result,'合同签署测试....')\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(err){\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmitBuy(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\t//如果未注册\r\n\t\t\t\tconsole.log('判断是否实名认证：',this.fddInfo.customerId);\r\n\t\t\t\tif(!this.fddInfo.customerId){\r\n\t\t\t\t\t//去注册  走实名认证\r\n\t\t\t\t\tthis.registerFdd()\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isRz(function(res){\r\n\t\t\t\t\t\t//未审核 或者 审核未通过 重新认证 已注册    已通过为2\r\n\t\t\t\t\t\tconsole.log('审核通过情况：', res.data.person.status)\r\n\t\t\t\t\t\tif(res.data.person.status!=2){\r\n\t\t\t\t\t\t\twx.navigateToMiniProgram({\r\n\t\t\t\t\t\t\t\tappId:'wx855361a721050c6b',\r\n\t\t\t\t\t\t\t\tpath: 'pages/result-loading/result-loading?verifyUrl=' + encodeURIComponent(that.fddInfo.url),\r\n\t\t\t\t\t\t\t\tenvVersion: 'release',\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl: \"http://huachuang.yxy5g.com/home/fddNotify\",\r\n\t\t\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(ress){\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(ress,'回调信息')\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail:function(err){\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t// 打开成功\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t//生成订单  去签署合同\r\n\t\t\t\t\t\t\tthat.orderCreate()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage{\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\t.wrap{\r\n\t\t.footer{\r\n\t\t\tposition:fixed;\r\n\t\t\tbottom:20rpx;\r\n\t\t\tleft:20rpx;\r\n\t\t\twidth:710rpx;\r\n\t\t\theight:100rpx;\r\n\t\t\tline-height:100rpx;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tcolor:#fff;\r\n\t\t\tbackground: linear-gradient(90deg, #1370F7 0%, #3484F8 100%);\r\n\t\t}\r\n\t\t.ul{\r\n\t\t\tcolor:#333333;\r\n\t\t\t.li{\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tpadding:20rpx;\r\n\t\t\t\t.left{\r\n\t\t\t\t\twidth:230rpx;\r\n\t\t\t\t\theight:150rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.right{\r\n\t\t\t\t\tmargin-left:20rpx;\r\n\t\t\t\t\t.title{\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.other{\r\n\t\t\t\t\t\tfont-size:28rpx;\r\n\t\t\t\t\t\tmargin-top:20rpx;\r\n\t\t\t\t\t\t.desc{\r\n\t\t\t\t\t\t\tfont-size:24rpx;\r\n\t\t\t\t\t\t\tcolor:#999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.payMoney{\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tpadding:20rpx;\r\n\t\t\t\t.sty{\r\n\t\t\t\t\tfont-size:34rpx;\r\n\t\t\t\t\tcolor:#FF4D4D;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}