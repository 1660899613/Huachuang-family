{"version":3,"sources":["uni-app:///main.js","webpack:///H:/素材/huachuangsmall-20220330/pages/user/contract/details.vue?a751","webpack:///H:/素材/huachuangsmall-20220330/pages/user/contract/details.vue?8b88","webpack:///H:/素材/huachuangsmall-20220330/pages/user/contract/details.vue?3ef0","webpack:///H:/素材/huachuangsmall-20220330/pages/user/contract/details.vue?de6f","uni-app:///pages/user/contract/details.vue","webpack:///H:/素材/huachuangsmall-20220330/pages/user/contract/details.vue?f2dc"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"yIAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,8GAAinB,eAAG,G,sHC0BpnB,CACA,KADA,WAEA,OACA,MACA,WACA,YACA,cACA,gBACA,YACA,aACA,QACA,WACA,eACA,SACA,eAGA,OAjBA,SAiBA,GACA,aACA,6BACA,iBACA,2BACA,eACA,oBAEA,SAEA,aAFA,WAGA,yGACA,aACA,mBAKA,YAVA,WAUA,WACA,4BACA,kBACA,2BACA,yBACA,yCACA,wBAIA,gBApBA,WAoBA,WACA,OACA,0BAEA,sBACA,uBACA,cACA,8BACA,kBAEA,2BACA,OACA,mBACA,2BACA,SACA,2BACA,oBACA,yBACA,eAEA,WACA,+CACA,QACA,kEAEA,OACA,cACA,oBACA,OACA,4BAEA,aACA,uBAGA,0BACA,gCACA,wCACA,sCACA,gCAMA,iBACA,wB,2ECrHA,8GAA4pC,eAAG,G","file":"pages/user/contract/details.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/contract/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=3b91d4e0&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/contract/details.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=template&id=3b91d4e0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<view class=\"wrap\" v-if=\"iscontact\">\r\n\t\t\t<view class=\"tp\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t{{signTitle}} \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t状态 <text class=\"state1\">{{result_desc}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"htInfor\">\r\n\t\t\t\t\t<!-- <view class=\"li\">发起方： 法大大</view> -->\r\n\t\t\t\t\t<view class=\"li\">发起时间：{{date}}</view>\r\n\t\t\t\t\t<view class=\"li\">截至签署：{{endTime}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"wdInfor\" v-if=\"view_url\">\r\n\t\t\t\t<!-- <view class=\"title\" @click=\"$f.jump('/pages1/web-view/look-web?url='+view_url)\">签约文档</view> -->\r\n\t\t\t\t<view class=\"title\" @click=\"contactWorld\">签约文档</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<web-view v-if=\"!iscontact\" :src=\"myUrl\" @message=\"getMessage\"></web-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid:'',\r\n\t\t\t\tfddInfo:{},\r\n\t\t\t\tuserInfo:{},\r\n\t\t\t\tcontractId:'',\r\n\t\t\t\tdownload_url: '',\r\n\t\t\t\tview_url: '',\r\n\t\t\t\tsignTitle:\"\",\r\n\t\t\t\tdate:\"\",\r\n\t\t\t\tendTime:\"\",\r\n\t\t\t\tresult_desc:\"\",\r\n\t\t\t\tmyUrl:\"\",\r\n\t\t\t\tiscontact:true\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option){\r\n\t\t\tthis.id = option.id\r\n\t\t\tthis.contractId = option.contractId\r\n\t\t\tthis.date=option.date\r\n\t\t\tthis.signTitle=option.signTitle\r\n\t\t\tconsole.log(option)\r\n\t\t\tthis.getUserInfo()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t\r\n\t\t\tcontactWorld(){\r\n\t\t\t\tlet url=this.view_url.replace('https://testapi.fadada.com:8443/api//','https://testapi01.fadada.com/api/')\r\n\t\t\t\tthis.myUrl=url\r\n\t\t\t\tthis.iscontact=false\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl:`/pages1/web-view/look-web?url=${encodeURIComponent(JSON.stringify(url))}`\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\tgetUserInfo(){\r\n\t\t\t\tthis.$u.api.getUserInfo({\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.userInfo = res.data.userInfo\r\n\t\t\t\t\tthis.fddInfo = res.data.fddInfo\r\n\t\t\t\t\tconsole.log(this.fddInfo,this.userInfo,'用户信息')\r\n\t\t\t\t\tthis.querySignResult()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//合同签署查询\r\n\t\t\tquerySignResult(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet customer_id = this.fddInfo.customerId\r\n\t\t\t\t// let userAgreementId = uni.getStorageSync('userAgreementId')\r\n\t\t\t\tthis.$u.api.signCode({\r\n\t\t\t\t\t\ttransaction_id: this.id,//合同交易号\r\n\t\t\t\t\t\tcustomer_id:customer_id, //客户编号\r\n\t\t\t\t\t\tcontract_id: this.contractId,//合同编号\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t// res.data.signCode\r\n\t\t\t\t\tconsole.log(res,'data 合同签署')\r\n\t\t\t\t\tlet option = {\r\n\t\t\t\t\t\tapp_id:this.$c.app_id,\r\n\t\t\t\t\t\ttimestamp:res.data.timestamp,\r\n\t\t\t\t\t\tv:this.$c.v,\r\n\t\t\t\t\t\tmsg_digest:res.data.signCode,\r\n\t\t\t\t\t\ttransaction_id: this.id,\r\n\t\t\t\t\t\tcontract_id: this.contractId,\r\n\t\t\t\t\t\tcustomer_id:customer_id,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: that.$c.fddApiUrl+\"api/query_sign_result.api\",\r\n\t\t\t\t\t\theader: { \r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: option, \r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tsuccess: function(result){\r\n\t\t\t\t\t\t\tvar res = result.data;\r\n\t\t\t\t\t\t\tconsole.log(result,'合同结果查询....')\r\n\t\t\t\t\t\t\t//签章成功\r\n\t\t\t\t\t\t\tif(!result.data.data){\r\n\t\t\t\t\t\t\t\tthat.$u.toast(result.data.msg)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(result.data.data.result==3000){\r\n\t\t\t\t\t\t\t\tthat.view_url = result.data.data.view_url\r\n\t\t\t\t\t\t\t\tthat.download_url = result.data.data.download_url\r\n\t\t\t\t\t\t\t\tthat.result_desc = result.data.data.result_desc\r\n\t\t\t\t\t\t\t\tthat.endTime = result.data.data.endTime\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail:function(err){\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.wrap{\r\n\t\t.wdInfor{\r\n\t\t\t.title{\r\n\t\t\t\tfont-size:26rpx;\r\n\t\t\t\tcolor:#666;\r\n\t\t\t\tpadding:20rpx 30rpx;\r\n\t\t\t\tbackground-color: #F6F7FB;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.tp{\r\n\t\t\tpadding:30rpx;\r\n\t\t\t.title{\r\n\t\t\t\tfont-size:36rpx;\r\n\t\t\t}\r\n\t\t\t.desc{\r\n\t\t\t\tcolor:#999;\r\n\t\t\t\tfont-size:24rpx;\r\n\t\t\t\t.state1{\r\n\t\t\t\t\tcolor:#007AFF;\r\n\t\t\t\t\tmargin-left:10rpx;\r\n\t\t\t\t}\r\n\t\t\t\tmargin:20rpx 0;\r\n\t\t\t}\r\n\t\t\t.htInfor{\r\n\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\tpadding:20rpx;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t.li{\r\n\t\t\t\t\tpadding:10rpx 0;\r\n\t\t\t\t\tcolor:#333333;\r\n\t\t\t\t\tfont-size:26rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}